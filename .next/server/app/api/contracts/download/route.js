"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/contracts/download/route";
exports.ids = ["app/api/contracts/download/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("puppeteer");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontracts%2Fdownload%2Froute&page=%2Fapi%2Fcontracts%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontracts%2Fdownload%2Froute.ts&appDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontracts%2Fdownload%2Froute&page=%2Fapi%2Fcontracts%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontracts%2Fdownload%2Froute.ts&appDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_marco_Downloads_led_rental_app_min_led_rental_app_src_app_api_contracts_download_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/contracts/download/route.ts */ \"(rsc)/./src/app/api/contracts/download/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/contracts/download/route\",\n        pathname: \"/api/contracts/download\",\n        filename: \"route\",\n        bundlePath: \"app/api/contracts/download/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\marco\\\\Downloads\\\\led-rental-app-min\\\\led-rental-app\\\\src\\\\app\\\\api\\\\contracts\\\\download\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_marco_Downloads_led_rental_app_min_led_rental_app_src_app_api_contracts_download_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/contracts/download/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb250cmFjdHMlMkZkb3dubG9hZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY29udHJhY3RzJTJGZG93bmxvYWQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjb250cmFjdHMlMkZkb3dubG9hZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtYXJjbyU1Q0Rvd25sb2FkcyU1Q2xlZC1yZW50YWwtYXBwLW1pbiU1Q2xlZC1yZW50YWwtYXBwJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNtYXJjbyU1Q0Rvd25sb2FkcyU1Q2xlZC1yZW50YWwtYXBwLW1pbiU1Q2xlZC1yZW50YWwtYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2RDtBQUMxSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZC1yZW50YWwtYXBwLz9jYzdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG1hcmNvXFxcXERvd25sb2Fkc1xcXFxsZWQtcmVudGFsLWFwcC1taW5cXFxcbGVkLXJlbnRhbC1hcHBcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udHJhY3RzXFxcXGRvd25sb2FkXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb250cmFjdHMvZG93bmxvYWQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb250cmFjdHMvZG93bmxvYWRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbnRyYWN0cy9kb3dubG9hZC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXG1hcmNvXFxcXERvd25sb2Fkc1xcXFxsZWQtcmVudGFsLWFwcC1taW5cXFxcbGVkLXJlbnRhbC1hcHBcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udHJhY3RzXFxcXGRvd25sb2FkXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jb250cmFjdHMvZG93bmxvYWQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontracts%2Fdownload%2Froute&page=%2Fapi%2Fcontracts%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontracts%2Fdownload%2Froute.ts&appDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/contracts/download/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/contracts/download/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! puppeteer */ \"puppeteer\");\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(puppeteer__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function POST(request) {\n    try {\n        const { bookingId } = await request.json();\n        console.log(\"Recebido bookingId:\", bookingId);\n        if (!bookingId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"ID da loca\\xe7\\xe3o \\xe9 obrigat\\xf3rio\"\n            }, {\n                status: 400\n            });\n        }\n        // Buscar dados da locação com todas as relações necessárias\n        const booking = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.booking.findUnique({\n            where: {\n                id: bookingId\n            },\n            include: {\n                client: true,\n                items: {\n                    include: {\n                        product: {\n                            select: {\n                                id: true,\n                                name: true,\n                                code: true,\n                                pricePerMeter: true\n                            }\n                        }\n                    }\n                },\n                accessories: {\n                    include: {\n                        accessory: {\n                            select: {\n                                id: true,\n                                name: true,\n                                code: true,\n                                pricePerUnit: true\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        console.log(\"Booking encontrado:\", booking ? \"SIM\" : \"N\\xc3O\");\n        if (booking) {\n            console.log(\"Dados do booking:\", {\n                id: booking.id,\n                eventTitle: booking.eventTitle,\n                clientName: booking.client?.name,\n                itemsCount: booking.items?.length,\n                accessoriesCount: booking.accessories?.length,\n                totalPrice: booking.totalValue\n            });\n        }\n        if (!booking) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Loca\\xe7\\xe3o n\\xe3o encontrada\"\n            }, {\n                status: 404\n            });\n        }\n        // Validar dados obrigatórios\n        const validationErrors = [];\n        if (!booking.client?.name?.trim()) validationErrors.push(\"Nome do cliente\");\n        if (!booking.client?.email?.trim()) validationErrors.push(\"Email do cliente\");\n        if (!booking.eventTitle?.trim()) validationErrors.push(\"T\\xedtulo do evento\");\n        if (!booking.startDate) validationErrors.push(\"Data de in\\xedcio\");\n        if (!booking.endDate) validationErrors.push(\"Data de fim\");\n        if (booking.items.length === 0 && booking.accessories.length === 0) {\n            validationErrors.push(\"Pelo menos um produto ou acess\\xf3rio\");\n        }\n        if (validationErrors.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Dados obrigatórios não preenchidos: ${validationErrors.join(\", \")}`\n            }, {\n                status: 400\n            });\n        }\n        // Buscar configurações da empresa\n        let companySettings = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.companySetting.findFirst();\n        console.log(\"Company settings encontradas:\", companySettings ? \"SIM\" : \"N\\xc3O\");\n        if (!companySettings) {\n            // Criar configurações padrão se não existirem\n            companySettings = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.companySetting.create({\n                data: {\n                    name: \"Empresa de Loca\\xe7\\xe3o\",\n                    email: \"contato@empresa.com\",\n                    phone: \"(11) 0000-0000\",\n                    address: \"Endere\\xe7o da Empresa\"\n                }\n            });\n            console.log(\"Configura\\xe7\\xf5es padr\\xe3o criadas\");\n        }\n        // Gerar HTML do contrato\n        const contractHTML = generateContractHTML(booking, companySettings);\n        console.log(\"HTML gerado com sucesso, tamanho:\", contractHTML.length);\n        if (contractHTML.length < 1000) {\n            console.error(\"HTML gerado parece estar muito pequeno, possivelmente vazio\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro ao gerar conte\\xfado do contrato\"\n            }, {\n                status: 500\n            });\n        }\n        // Gerar PDF usando Puppeteer\n        const browser = await puppeteer__WEBPACK_IMPORTED_MODULE_2___default().launch({\n            headless: true,\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\"\n            ]\n        });\n        const page = await browser.newPage();\n        // Definir viewport e conteúdo\n        await page.setViewport({\n            width: 1200,\n            height: 1600\n        });\n        await page.setContent(contractHTML, {\n            waitUntil: \"networkidle0\"\n        });\n        // Gerar PDF\n        const pdfBuffer = await page.pdf({\n            format: \"A4\",\n            printBackground: true,\n            margin: {\n                top: \"0.5in\",\n                right: \"0.5in\",\n                bottom: \"0.5in\",\n                left: \"0.5in\"\n            }\n        });\n        await browser.close();\n        console.log(\"PDF gerado com sucesso, tamanho:\", pdfBuffer.length);\n        if (pdfBuffer.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro ao gerar PDF\"\n            }, {\n                status: 500\n            });\n        }\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(pdfBuffer, {\n            headers: {\n                \"Content-Type\": \"application/pdf\",\n                \"Content-Disposition\": `attachment; filename=\"contrato-${booking.eventTitle.replace(/[^a-z0-9]/gi, \"_\")}-${new Date(booking.startDate).toLocaleDateString(\"pt-BR\").replace(/\\//g, \"-\")}.pdf\"`\n            }\n        });\n    } catch (error) {\n        console.error(\"Erro ao gerar contrato:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\nfunction generateContractHTML(booking, companySettings) {\n    console.log(\"Iniciando gera\\xe7\\xe3o do HTML do contrato\");\n    // Dados do evento com validação\n    const eventTitle = booking.eventTitle?.trim() || \"Evento sem t\\xedtulo\";\n    const clientName = booking.client?.name?.trim() || \"Cliente n\\xe3o especificado\";\n    const clientEmail = booking.client?.email?.trim() || \"Email n\\xe3o especificado\";\n    const clientPhone = booking.client?.phone?.trim() || \"\";\n    const clientCompany = booking.client?.company?.trim() || \"\";\n    const clientDocument = booking.client?.document?.trim() || \"\";\n    const clientAddress = booking.client?.address?.trim() || \"\";\n    const eventAddress = booking.eventAddress?.trim() || \"Endere\\xe7o n\\xe3o especificado\";\n    // Dados da empresa com validação\n    const companyName = companySettings.name?.trim() || \"Empresa de Loca\\xe7\\xe3o\";\n    const companyDocument = companySettings.cnpj?.trim() || \"CNPJ n\\xe3o informado\";\n    const companyAddress = companySettings.address?.trim() || \"Endere\\xe7o n\\xe3o informado\";\n    const companyPhone = companySettings.phone?.trim() || \"Telefone n\\xe3o informado\";\n    const companyEmail = companySettings.email?.trim() || \"Email n\\xe3o informado\";\n    const companyLogoUrl = companySettings.logoUrl?.trim() || \"\";\n    const formatCurrency = (value)=>{\n        if (!value) return \"R$ 0,00\";\n        const numValue = typeof value === \"string\" ? parseFloat(value) : value;\n        if (isNaN(numValue)) return \"R$ 0,00\";\n        return new Intl.NumberFormat(\"pt-BR\", {\n            style: \"currency\",\n            currency: \"BRL\"\n        }).format(numValue);\n    };\n    const formatDate = (dateString)=>{\n        if (!dateString) return \"Data n\\xe3o informada\";\n        try {\n            return new Date(dateString).toLocaleDateString(\"pt-BR\");\n        } catch (error) {\n            console.error(\"Erro ao formatar data:\", dateString, error);\n            return \"Data inv\\xe1lida\";\n        }\n    };\n    const calculateSubtotal = ()=>{\n        let subtotal = 0;\n        // Calcular produtos\n        if (booking.items && Array.isArray(booking.items)) {\n            booking.items.forEach((item)=>{\n                if (item && item.product && item.product.pricePerMeter && item.meters) {\n                    const price = parseFloat(item.product.pricePerMeter.toString());\n                    const meters = parseFloat(item.meters.toString());\n                    if (!isNaN(price) && !isNaN(meters)) {\n                        subtotal += meters * price;\n                    }\n                }\n            });\n        }\n        // Calcular acessórios\n        if (booking.accessories && Array.isArray(booking.accessories)) {\n            booking.accessories.forEach((item)=>{\n                if (item && item.accessory && item.accessory.pricePerUnit && item.qty) {\n                    const price = parseFloat(item.accessory.pricePerUnit.toString());\n                    const qty = parseFloat(item.qty.toString());\n                    if (!isNaN(price) && !isNaN(qty)) {\n                        subtotal += qty * price;\n                    }\n                }\n            });\n        }\n        return subtotal;\n    };\n    const calculateTotalPrice = ()=>{\n        return booking.totalPrice || calculateSubtotal();\n    };\n    const getPaymentStatusText = (status)=>{\n        switch(status){\n            case \"PAID\":\n                return \"PAGO\";\n            case \"PENDING\":\n                return \"PENDENTE\";\n            case \"PARTIAL\":\n                return \"PARCIAL\";\n            case \"OVERDUE\":\n                return \"ATRASADO\";\n            default:\n                return \"PENDENTE\";\n        }\n    };\n    const getPaymentStatusColor = (status)=>{\n        switch(status){\n            case \"PAID\":\n                return \"color: green;\";\n            case \"PENDING\":\n                return \"color: orange;\";\n            case \"PARTIAL\":\n                return \"color: blue;\";\n            case \"OVERDUE\":\n                return \"color: red;\";\n            default:\n                return \"color: orange;\";\n        }\n    };\n    const htmlTemplate = `<!DOCTYPE html>\r\n<html lang=\"pt-BR\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Contrato de Locação - ${eventTitle}</title>\r\n    <style>\r\n        @page {\r\n            size: A4;\r\n            margin: 0.5in;\r\n        }\r\n        \r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            line-height: 1.6;\r\n            color: #333;\r\n            margin: 0;\r\n            padding: 20px;\r\n            background-color: white;\r\n            font-size: 12px;\r\n        }\r\n        \r\n        .header {\r\n            text-align: center;\r\n            margin-bottom: 30px;\r\n            border-bottom: 2px solid #333;\r\n            padding-bottom: 20px;\r\n        }\r\n        \r\n        .logo {\r\n            max-height: 60px;\r\n            margin-bottom: 10px;\r\n        }\r\n        \r\n        .title {\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n            margin-bottom: 8px;\r\n        }\r\n        \r\n        .contract-number {\r\n            font-size: 12px;\r\n            color: #666;\r\n        }\r\n        \r\n        .section {\r\n            margin-bottom: 20px;\r\n        }\r\n        \r\n        .section-title {\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            margin-bottom: 12px;\r\n            border-bottom: 1px solid #ddd;\r\n            padding-bottom: 4px;\r\n        }\r\n        \r\n        .info-grid {\r\n            display: table;\r\n            width: 100%;\r\n            margin-bottom: 16px;\r\n        }\r\n        \r\n        .info-box {\r\n            display: table-cell;\r\n            width: 50%;\r\n            border: 1px solid #ddd;\r\n            padding: 12px;\r\n            border-radius: 4px;\r\n            vertical-align: top;\r\n        }\r\n        \r\n        .info-box:first-child {\r\n            margin-right: 10px;\r\n        }\r\n        \r\n        .info-box h4 {\r\n            margin: 0 0 8px 0;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n        }\r\n        \r\n        .info-box p {\r\n            margin: 4px 0;\r\n            font-size: 11px;\r\n        }\r\n        \r\n        table {\r\n            width: 100%;\r\n            border-collapse: collapse;\r\n            margin: 12px 0;\r\n            font-size: 10px;\r\n        }\r\n        \r\n        th, td {\r\n            border: 1px solid #ddd;\r\n            padding: 6px;\r\n            text-align: left;\r\n        }\r\n        \r\n        th {\r\n            background-color: #f5f5f5;\r\n            font-weight: bold;\r\n            font-size: 10px;\r\n        }\r\n        \r\n        .financial-summary {\r\n            background-color: #f9f9f9;\r\n            padding: 12px;\r\n            border-radius: 4px;\r\n            margin: 16px 0;\r\n        }\r\n        \r\n        .total-line {\r\n            border-top: 1px solid #ccc;\r\n            padding-top: 8px;\r\n            margin-top: 8px;\r\n            font-weight: bold;\r\n        }\r\n        \r\n        .signatures {\r\n            display: table;\r\n            width: 100%;\r\n            margin-top: 30px;\r\n        }\r\n        \r\n        .signature-box {\r\n            display: table-cell;\r\n            width: 50%;\r\n            text-align: center;\r\n            border-top: 1px solid #333;\r\n            padding-top: 16px;\r\n        }\r\n        \r\n        .no-items {\r\n            text-align: center;\r\n            padding: 16px;\r\n            color: #666;\r\n            font-style: italic;\r\n        }\r\n        \r\n        .page-break {\r\n            page-break-before: always;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        ${companyLogoUrl ? `<img src=\"${companyLogoUrl}\" alt=\"Logo\" class=\"logo\">` : \"\"}\r\n        <div class=\"title\">${companyName}</div>\r\n        <div>${companyAddress}</div>\r\n        <div>CNPJ: ${companyDocument} | Tel: ${companyPhone}</div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"title\">CONTRATO DE LOCAÇÃO</div>\r\n        <div class=\"contract-number\">Contrato Nº ${booking.id ? booking.id.slice(-8).toUpperCase() : \"N/A\"}</div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"info-grid\">\r\n            <div class=\"info-box\">\r\n                <h4>LOCADOR</h4>\r\n                <p><strong>${companyName}</strong></p>\r\n                <p>CNPJ: ${companyDocument}</p>\r\n                <p>${companyAddress}</p>\r\n                <p>Tel: ${companyPhone}</p>\r\n                <p>Email: ${companyEmail}</p>\r\n            </div>\r\n            <div class=\"info-box\">\r\n                <h4>LOCATÁRIO</h4>\r\n                <p><strong>${clientName}</strong></p>\r\n                ${clientCompany ? `<p>Empresa: ${clientCompany}</p>` : \"\"}\r\n                ${clientDocument ? `<p>Documento: ${clientDocument}</p>` : \"\"}\r\n                ${clientAddress ? `<p>${clientAddress}</p>` : \"\"}\r\n                ${clientPhone ? `<p>Tel: ${clientPhone}</p>` : \"\"}\r\n                <p>Email: ${clientEmail}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">DETALHES DO EVENTO</div>\r\n        <div class=\"info-grid\">\r\n            <div class=\"info-box\">\r\n                <p><strong>Evento:</strong> ${eventTitle}</p>\r\n                <p><strong>Endereço:</strong> ${eventAddress}</p>\r\n            </div>\r\n            <div class=\"info-box\">\r\n                <p><strong>Data de Início:</strong> ${formatDate(booking.startDate)}</p>\r\n                <p><strong>Data de Fim:</strong> ${formatDate(booking.endDate)}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">PRODUTOS E ACESSÓRIOS ALUGADOS</div>\r\n        \r\n        ${booking.items && booking.items.length > 0 ? `\r\n        <h4>PRODUTOS</h4>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Produto</th>\r\n                    <th>Código</th>\r\n                    <th>Metros</th>\r\n                    <th>Preço/m²</th>\r\n                    <th>Total</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${booking.items.map((item)=>{\n        const productName = item.product?.name || \"Produto n\\xe3o especificado\";\n        const productCode = item.product?.code || \"N/A\";\n        const meters = item.meters || 0;\n        const pricePerMeter = item.product?.pricePerMeter || 0;\n        const total = meters * parseFloat(pricePerMeter.toString());\n        return `\r\n                  <tr>\r\n                      <td>${productName}</td>\r\n                      <td>${productCode}</td>\r\n                      <td>${meters} m²</td>\r\n                      <td>${formatCurrency(pricePerMeter)}</td>\r\n                      <td>${formatCurrency(total)}</td>\r\n                  </tr>\r\n                  `;\n    }).join(\"\")}\r\n            </tbody>\r\n        </table>\r\n        ` : \"\"}\r\n\r\n        ${booking.accessories && booking.accessories.length > 0 ? `\r\n        <h4>ACESSÓRIOS</h4>\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>Acessório</th>\r\n                    <th>Código</th>\r\n                    <th>Quantidade</th>\r\n                    <th>Preço/Unidade</th>\r\n                    <th>Total</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                ${booking.accessories.map((item)=>{\n        const accessoryName = item.accessory?.name || \"Acess\\xf3rio n\\xe3o especificado\";\n        const accessoryCode = item.accessory?.code || \"N/A\";\n        const qty = item.qty || 0;\n        const pricePerUnit = item.accessory?.pricePerUnit || 0;\n        const total = qty * parseFloat(pricePerUnit.toString());\n        return `\r\n                  <tr>\r\n                      <td>${accessoryName}</td>\r\n                      <td>${accessoryCode}</td>\r\n                      <td>${qty} un</td>\r\n                      <td>${formatCurrency(pricePerUnit)}</td>\r\n                      <td>${formatCurrency(total)}</td>\r\n                  </tr>\r\n                  `;\n    }).join(\"\")}\r\n            </tbody>\r\n        </table>\r\n        ` : \"\"}\r\n\r\n        ${(!booking.items || booking.items.length === 0) && (!booking.accessories || booking.accessories.length === 0) ? '<div class=\"no-items\">Nenhum produto ou acess\\xf3rio especificado para esta loca\\xe7\\xe3o.</div>' : \"\"}\r\n    </div>\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">RESUMO FINANCEIRO</div>\r\n        <div class=\"financial-summary\">\r\n            <div style=\"display: flex; justify-content: space-between; margin-bottom: 8px;\">\r\n                <span>Subtotal:</span>\r\n                <span>${formatCurrency(calculateSubtotal())}</span>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between; margin-bottom: 8px;\">\r\n                <span>Status do Pagamento:</span>\r\n                <span style=\"font-weight: bold; ${getPaymentStatusColor(booking.paymentStatus)}\">\r\n                    ${getPaymentStatusText(booking.paymentStatus)}\r\n                </span>\r\n            </div>\r\n            <div class=\"total-line\" style=\"display: flex; justify-content: space-between;\">\r\n                <span>Valor Total:</span>\r\n                <span>${formatCurrency(calculateTotalPrice())}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    ${booking.notes ? `\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">OBSERVAÇÕES</div>\r\n        <div style=\"background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 12px; border-radius: 4px;\">\r\n            <p>${booking.notes}</p>\r\n        </div>\r\n    </div>\r\n    ` : \"\"}\r\n\r\n    <div class=\"section\">\r\n        <div class=\"section-title\">TERMOS E CONDIÇÕES</div>\r\n        <div style=\"font-size: 11px;\">\r\n            <p><strong>1.</strong> O locatário se compromete a devolver todos os produtos e acessórios no mesmo estado em que foram recebidos.</p>\r\n            <p><strong>2.</strong> Danos causados durante o período de locação serão de responsabilidade do locatário.</p>\r\n            <p><strong>3.</strong> O não cumprimento dos prazos de pagamento acarretará em multa de 2% ao mês sobre o valor em atraso.</p>\r\n            <p><strong>4.</strong> Este contrato foi celebrado em ${formatDate(new Date().toISOString())} e permanecerá válido até a conclusão da locação.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"signatures\">\r\n        <div class=\"signature-box\">\r\n            <p style=\"font-weight: bold;\">${companyName}</p>\r\n            <p style=\"font-size: 10px;\">Assinatura do Locador</p>\r\n        </div>\r\n        <div class=\"signature-box\">\r\n            <p style=\"font-weight: bold;\">${clientName}</p>\r\n            <p style=\"font-size: 10px;\">Assinatura do Locatário</p>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>`;\n    console.log(\"HTML final gerado com sucesso, tamanho:\", htmlTemplate.length);\n    return htmlTemplate;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jb250cmFjdHMvZG93bmxvYWQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDdEI7QUFDQTtBQUUxQixlQUFlRyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBRyxNQUFNRCxRQUFRRSxJQUFJO1FBQ3hDQyxRQUFRQyxHQUFHLENBQUMsdUJBQXVCSDtRQUVuQyxJQUFJLENBQUNBLFdBQVc7WUFDZCxPQUFPTCxxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtnQkFBRUcsT0FBTztZQUE4QixHQUN2QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsNERBQTREO1FBQzVELE1BQU1DLFVBQVUsTUFBTVYsMkNBQU1BLENBQUNVLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDO1lBQzlDQyxPQUFPO2dCQUFFQyxJQUFJVDtZQUFVO1lBQ3ZCVSxTQUFTO2dCQUNQQyxRQUFRO2dCQUVSQyxPQUFPO29CQUNMRixTQUFTO3dCQUNQRyxTQUFTOzRCQUNQQyxRQUFRO2dDQUNOTCxJQUFJO2dDQUNKTSxNQUFNO2dDQUNOQyxNQUFNO2dDQUNOQyxlQUFlOzRCQUNqQjt3QkFDRjtvQkFDRjtnQkFDRjtnQkFDQUMsYUFBYTtvQkFDWFIsU0FBUzt3QkFDUFMsV0FBVzs0QkFDVEwsUUFBUTtnQ0FDTkwsSUFBSTtnQ0FDSk0sTUFBTTtnQ0FDTkMsTUFBTTtnQ0FDTkksY0FBYzs0QkFDaEI7d0JBQ0Y7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUFsQixRQUFRQyxHQUFHLENBQUMsdUJBQXVCRyxVQUFVLFFBQVE7UUFDckQsSUFBSUEsU0FBUztZQUNYSixRQUFRQyxHQUFHLENBQUMscUJBQXFCO2dCQUMvQk0sSUFBSUgsUUFBUUcsRUFBRTtnQkFDZFksWUFBWWYsUUFBUWUsVUFBVTtnQkFDOUJDLFlBQVloQixRQUFRSyxNQUFNLEVBQUVJO2dCQUM1QlEsWUFBWWpCLFFBQVFNLEtBQUssRUFBRVk7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L2Rvd25sb2FkL3JvdXRlLnRzPzZmZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9kYidcclxuaW1wb3J0IHB1cHBldGVlciBmcm9tICdwdXBwZXRlZXInXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGJvb2tpbmdJZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcclxuICAgIGNvbnNvbGUubG9nKCdSZWNlYmlkbyBib29raW5nSWQ6JywgYm9va2luZ0lkKVxyXG4gICAgXHJcbiAgICBpZiAoIWJvb2tpbmdJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0lEIGRhIGxvY2HDp8OjbyDDqSBvYnJpZ2F0w7NyaW8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBCdXNjYXIgZGFkb3MgZGEgbG9jYcOnw6NvIGNvbSB0b2RhcyBhcyByZWxhw6fDtWVzIG5lY2Vzc8Ohcmlhc1xyXG4gICAgY29uc3QgYm9va2luZyA9IGF3YWl0IHByaXNtYS5ib29raW5nLmZpbmRVbmlxdWUoe1xyXG4gICAgICB3aGVyZTogeyBpZDogYm9va2luZ0lkIH0sXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBjbGllbnQ6IHRydWUsXHJcblxyXG4gICAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwcmljZVBlck1ldGVyOiB0cnVlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY2Nlc3Nvcmllczoge1xyXG4gICAgICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgICAgICBhY2Nlc3Nvcnk6IHtcclxuICAgICAgICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwcmljZVBlclVuaXQ6IHRydWVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ0Jvb2tpbmcgZW5jb250cmFkbzonLCBib29raW5nID8gJ1NJTScgOiAnTsODTycpXHJcbiAgICBpZiAoYm9va2luZykge1xyXG4gICAgICBjb25zb2xlLmxvZygnRGFkb3MgZG8gYm9va2luZzonLCB7XHJcbiAgICAgICAgaWQ6IGJvb2tpbmcuaWQsXHJcbiAgICAgICAgZXZlbnRUaXRsZTogYm9va2luZy5ldmVudFRpdGxlLFxyXG4gICAgICAgIGNsaWVudE5hbWU6IGJvb2tpbmcuY2xpZW50Py5uYW1lLFxyXG4gICAgICAgIGl0ZW1zQ291bnQ6IGJvb2tpbmcuaXRlbXM/Lmxlbmd0aCxcclxuICAgICAgICBhY2Nlc3Nvcmllc0NvdW50OiBib29raW5nLmFjY2Vzc29yaWVzPy5sZW5ndGgsXHJcbiAgICAgICAgdG90YWxQcmljZTogKGJvb2tpbmcgYXMgYW55KS50b3RhbFZhbHVlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFib29raW5nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnTG9jYcOnw6NvIG7Do28gZW5jb250cmFkYScgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXIgZGFkb3Mgb2JyaWdhdMOzcmlvc1xyXG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IFtdXHJcbiAgICBpZiAoIWJvb2tpbmcuY2xpZW50Py5uYW1lPy50cmltKCkpIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnTm9tZSBkbyBjbGllbnRlJylcclxuICAgIGlmICghYm9va2luZy5jbGllbnQ/LmVtYWlsPy50cmltKCkpIHZhbGlkYXRpb25FcnJvcnMucHVzaCgnRW1haWwgZG8gY2xpZW50ZScpXHJcbiAgICBpZiAoIWJvb2tpbmcuZXZlbnRUaXRsZT8udHJpbSgpKSB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJ1TDrXR1bG8gZG8gZXZlbnRvJylcclxuXHJcbiAgICBpZiAoIWJvb2tpbmcuc3RhcnREYXRlKSB2YWxpZGF0aW9uRXJyb3JzLnB1c2goJ0RhdGEgZGUgaW7DrWNpbycpXHJcbiAgICBpZiAoIWJvb2tpbmcuZW5kRGF0ZSkgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdEYXRhIGRlIGZpbScpXHJcbiAgICBpZiAoYm9va2luZy5pdGVtcy5sZW5ndGggPT09IDAgJiYgYm9va2luZy5hY2Nlc3Nvcmllcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKCdQZWxvIG1lbm9zIHVtIHByb2R1dG8gb3UgYWNlc3PDs3JpbycpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogYERhZG9zIG9icmlnYXTDs3Jpb3MgbsOjbyBwcmVlbmNoaWRvczogJHt2YWxpZGF0aW9uRXJyb3JzLmpvaW4oJywgJyl9YCB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVzY2FyIGNvbmZpZ3VyYcOnw7VlcyBkYSBlbXByZXNhXHJcbiAgICBsZXQgY29tcGFueVNldHRpbmdzID0gYXdhaXQgcHJpc21hLmNvbXBhbnlTZXR0aW5nLmZpbmRGaXJzdCgpXHJcbiAgICBjb25zb2xlLmxvZygnQ29tcGFueSBzZXR0aW5ncyBlbmNvbnRyYWRhczonLCBjb21wYW55U2V0dGluZ3MgPyAnU0lNJyA6ICdOw4NPJylcclxuICAgIFxyXG4gICAgaWYgKCFjb21wYW55U2V0dGluZ3MpIHtcclxuICAgICAgLy8gQ3JpYXIgY29uZmlndXJhw6fDtWVzIHBhZHLDo28gc2UgbsOjbyBleGlzdGlyZW1cclxuICAgICAgICAgICAgICBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCAocHJpc21hIGFzIGFueSkuY29tcGFueVNldHRpbmcuY3JlYXRlKHtcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgbmFtZTogJ0VtcHJlc2EgZGUgTG9jYcOnw6NvJyxcclxuICAgICAgICAgICAgZW1haWw6ICdjb250YXRvQGVtcHJlc2EuY29tJyxcclxuICAgICAgICAgICAgcGhvbmU6ICcoMTEpIDAwMDAtMDAwMCcsXHJcbiAgICAgICAgICAgIGFkZHJlc3M6ICdFbmRlcmXDp28gZGEgRW1wcmVzYSdcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICBjb25zb2xlLmxvZygnQ29uZmlndXJhw6fDtWVzIHBhZHLDo28gY3JpYWRhcycpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VyYXIgSFRNTCBkbyBjb250cmF0b1xyXG4gICAgY29uc3QgY29udHJhY3RIVE1MID0gZ2VuZXJhdGVDb250cmFjdEhUTUwoYm9va2luZywgY29tcGFueVNldHRpbmdzKVxyXG4gICAgY29uc29sZS5sb2coJ0hUTUwgZ2VyYWRvIGNvbSBzdWNlc3NvLCB0YW1hbmhvOicsIGNvbnRyYWN0SFRNTC5sZW5ndGgpXHJcbiAgICBcclxuICAgIGlmIChjb250cmFjdEhUTUwubGVuZ3RoIDwgMTAwMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdIVE1MIGdlcmFkbyBwYXJlY2UgZXN0YXIgbXVpdG8gcGVxdWVubywgcG9zc2l2ZWxtZW50ZSB2YXppbycpXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnRXJybyBhbyBnZXJhciBjb250ZcO6ZG8gZG8gY29udHJhdG8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXJhciBQREYgdXNhbmRvIFB1cHBldGVlclxyXG4gICAgY29uc3QgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2goe1xyXG4gICAgICBoZWFkbGVzczogdHJ1ZSxcclxuICAgICAgYXJnczogWyctLW5vLXNhbmRib3gnLCAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94J11cclxuICAgIH0pXHJcbiAgICBcclxuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKVxyXG4gICAgXHJcbiAgICAvLyBEZWZpbmlyIHZpZXdwb3J0IGUgY29udGXDumRvXHJcbiAgICBhd2FpdCBwYWdlLnNldFZpZXdwb3J0KHsgd2lkdGg6IDEyMDAsIGhlaWdodDogMTYwMCB9KVxyXG4gICAgYXdhaXQgcGFnZS5zZXRDb250ZW50KGNvbnRyYWN0SFRNTCwgeyB3YWl0VW50aWw6ICduZXR3b3JraWRsZTAnIH0pXHJcbiAgICBcclxuICAgIC8vIEdlcmFyIFBERlxyXG4gICAgY29uc3QgcGRmQnVmZmVyID0gYXdhaXQgcGFnZS5wZGYoe1xyXG4gICAgICBmb3JtYXQ6ICdBNCcsXHJcbiAgICAgIHByaW50QmFja2dyb3VuZDogdHJ1ZSxcclxuICAgICAgbWFyZ2luOiB7XHJcbiAgICAgICAgdG9wOiAnMC41aW4nLFxyXG4gICAgICAgIHJpZ2h0OiAnMC41aW4nLFxyXG4gICAgICAgIGJvdHRvbTogJzAuNWluJyxcclxuICAgICAgICBsZWZ0OiAnMC41aW4nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnUERGIGdlcmFkbyBjb20gc3VjZXNzbywgdGFtYW5obzonLCBwZGZCdWZmZXIubGVuZ3RoKVxyXG4gICAgXHJcbiAgICBpZiAocGRmQnVmZmVyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0Vycm8gYW8gZ2VyYXIgUERGJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKHBkZkJ1ZmZlciBhcyBhbnksIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vcGRmJyxcclxuICAgICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6IGBhdHRhY2htZW50OyBmaWxlbmFtZT1cImNvbnRyYXRvLSR7Ym9va2luZy5ldmVudFRpdGxlLnJlcGxhY2UoL1teYS16MC05XS9naSwgJ18nKX0tJHtuZXcgRGF0ZShib29raW5nLnN0YXJ0RGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCdwdC1CUicpLnJlcGxhY2UoL1xcLy9nLCAnLScpfS5wZGZcImBcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gZ2VyYXIgY29udHJhdG86JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVDb250cmFjdEhUTUwoYm9va2luZzogYW55LCBjb21wYW55U2V0dGluZ3M6IGFueSkge1xyXG4gIGNvbnNvbGUubG9nKCdJbmljaWFuZG8gZ2VyYcOnw6NvIGRvIEhUTUwgZG8gY29udHJhdG8nKVxyXG4gIFxyXG4gIC8vIERhZG9zIGRvIGV2ZW50byBjb20gdmFsaWRhw6fDo29cclxuICBjb25zdCBldmVudFRpdGxlID0gYm9va2luZy5ldmVudFRpdGxlPy50cmltKCkgfHwgJ0V2ZW50byBzZW0gdMOtdHVsbydcclxuICBjb25zdCBjbGllbnROYW1lID0gYm9va2luZy5jbGllbnQ/Lm5hbWU/LnRyaW0oKSB8fCAnQ2xpZW50ZSBuw6NvIGVzcGVjaWZpY2FkbydcclxuICBjb25zdCBjbGllbnRFbWFpbCA9IGJvb2tpbmcuY2xpZW50Py5lbWFpbD8udHJpbSgpIHx8ICdFbWFpbCBuw6NvIGVzcGVjaWZpY2FkbydcclxuICBjb25zdCBjbGllbnRQaG9uZSA9IGJvb2tpbmcuY2xpZW50Py5waG9uZT8udHJpbSgpIHx8ICcnXHJcbiAgY29uc3QgY2xpZW50Q29tcGFueSA9IGJvb2tpbmcuY2xpZW50Py5jb21wYW55Py50cmltKCkgfHwgJydcclxuICBjb25zdCBjbGllbnREb2N1bWVudCA9IGJvb2tpbmcuY2xpZW50Py5kb2N1bWVudD8udHJpbSgpIHx8ICcnXHJcbiAgY29uc3QgY2xpZW50QWRkcmVzcyA9IGJvb2tpbmcuY2xpZW50Py5hZGRyZXNzPy50cmltKCkgfHwgJydcclxuICBjb25zdCBldmVudEFkZHJlc3MgPSBib29raW5nLmV2ZW50QWRkcmVzcz8udHJpbSgpIHx8ICdFbmRlcmXDp28gbsOjbyBlc3BlY2lmaWNhZG8nXHJcblxyXG4gIC8vIERhZG9zIGRhIGVtcHJlc2EgY29tIHZhbGlkYcOnw6NvXHJcbiAgY29uc3QgY29tcGFueU5hbWUgPSBjb21wYW55U2V0dGluZ3MubmFtZT8udHJpbSgpIHx8ICdFbXByZXNhIGRlIExvY2HDp8OjbydcclxuICBjb25zdCBjb21wYW55RG9jdW1lbnQgPSBjb21wYW55U2V0dGluZ3MuY25waj8udHJpbSgpIHx8ICdDTlBKIG7Do28gaW5mb3JtYWRvJ1xyXG4gIGNvbnN0IGNvbXBhbnlBZGRyZXNzID0gY29tcGFueVNldHRpbmdzLmFkZHJlc3M/LnRyaW0oKSB8fCAnRW5kZXJlw6dvIG7Do28gaW5mb3JtYWRvJ1xyXG4gIGNvbnN0IGNvbXBhbnlQaG9uZSA9IGNvbXBhbnlTZXR0aW5ncy5waG9uZT8udHJpbSgpIHx8ICdUZWxlZm9uZSBuw6NvIGluZm9ybWFkbydcclxuICBjb25zdCBjb21wYW55RW1haWwgPSBjb21wYW55U2V0dGluZ3MuZW1haWw/LnRyaW0oKSB8fCAnRW1haWwgbsOjbyBpbmZvcm1hZG8nXHJcbiAgY29uc3QgY29tcGFueUxvZ29VcmwgPSBjb21wYW55U2V0dGluZ3MubG9nb1VybD8udHJpbSgpIHx8ICcnXHJcblxyXG4gIGNvbnN0IGZvcm1hdEN1cnJlbmN5ID0gKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gJ1IkIDAsMDAnXHJcbiAgICBjb25zdCBudW1WYWx1ZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IHZhbHVlXHJcbiAgICBpZiAoaXNOYU4obnVtVmFsdWUpKSByZXR1cm4gJ1IkIDAsMDAnXHJcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdwdC1CUicsIHtcclxuICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXHJcbiAgICAgIGN1cnJlbmN5OiAnQlJMJ1xyXG4gICAgfSkuZm9ybWF0KG51bVZhbHVlKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnRGF0YSBuw6NvIGluZm9ybWFkYSdcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlU3RyaW5nKS50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gZm9ybWF0YXIgZGF0YTonLCBkYXRlU3RyaW5nLCBlcnJvcilcclxuICAgICAgcmV0dXJuICdEYXRhIGludsOhbGlkYSdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZVN1YnRvdGFsID0gKCkgPT4ge1xyXG4gICAgbGV0IHN1YnRvdGFsID0gMFxyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhciBwcm9kdXRvc1xyXG4gICAgaWYgKGJvb2tpbmcuaXRlbXMgJiYgQXJyYXkuaXNBcnJheShib29raW5nLml0ZW1zKSkge1xyXG4gICAgICBib29raW5nLml0ZW1zLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtICYmIGl0ZW0ucHJvZHVjdCAmJiBpdGVtLnByb2R1Y3QucHJpY2VQZXJNZXRlciAmJiBpdGVtLm1ldGVycykge1xyXG4gICAgICAgICAgY29uc3QgcHJpY2UgPSBwYXJzZUZsb2F0KGl0ZW0ucHJvZHVjdC5wcmljZVBlck1ldGVyLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICBjb25zdCBtZXRlcnMgPSBwYXJzZUZsb2F0KGl0ZW0ubWV0ZXJzLnRvU3RyaW5nKCkpXHJcbiAgICAgICAgICBpZiAoIWlzTmFOKHByaWNlKSAmJiAhaXNOYU4obWV0ZXJzKSkge1xyXG4gICAgICAgICAgICBzdWJ0b3RhbCArPSBtZXRlcnMgKiBwcmljZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXIgYWNlc3PDs3Jpb3NcclxuICAgIGlmIChib29raW5nLmFjY2Vzc29yaWVzICYmIEFycmF5LmlzQXJyYXkoYm9va2luZy5hY2Nlc3NvcmllcykpIHtcclxuICAgICAgYm9va2luZy5hY2Nlc3Nvcmllcy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLmFjY2Vzc29yeSAmJiBpdGVtLmFjY2Vzc29yeS5wcmljZVBlclVuaXQgJiYgaXRlbS5xdHkpIHtcclxuICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChpdGVtLmFjY2Vzc29yeS5wcmljZVBlclVuaXQudG9TdHJpbmcoKSlcclxuICAgICAgICAgIGNvbnN0IHF0eSA9IHBhcnNlRmxvYXQoaXRlbS5xdHkudG9TdHJpbmcoKSlcclxuICAgICAgICAgIGlmICghaXNOYU4ocHJpY2UpICYmICFpc05hTihxdHkpKSB7XHJcbiAgICAgICAgICAgIHN1YnRvdGFsICs9IHF0eSAqIHByaWNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gc3VidG90YWxcclxuICB9XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZVRvdGFsUHJpY2UgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gYm9va2luZy50b3RhbFByaWNlIHx8IGNhbGN1bGF0ZVN1YnRvdGFsKClcclxuICB9XHJcblxyXG4gIGNvbnN0IGdldFBheW1lbnRTdGF0dXNUZXh0ID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlICdQQUlEJzogcmV0dXJuICdQQUdPJ1xyXG4gICAgICBjYXNlICdQRU5ESU5HJzogcmV0dXJuICdQRU5ERU5URSdcclxuICAgICAgY2FzZSAnUEFSVElBTCc6IHJldHVybiAnUEFSQ0lBTCdcclxuICAgICAgY2FzZSAnT1ZFUkRVRSc6IHJldHVybiAnQVRSQVNBRE8nXHJcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAnUEVOREVOVEUnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBnZXRQYXltZW50U3RhdHVzQ29sb3IgPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcclxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgJ1BBSUQnOiByZXR1cm4gJ2NvbG9yOiBncmVlbjsnXHJcbiAgICAgIGNhc2UgJ1BFTkRJTkcnOiByZXR1cm4gJ2NvbG9yOiBvcmFuZ2U7J1xyXG4gICAgICBjYXNlICdQQVJUSUFMJzogcmV0dXJuICdjb2xvcjogYmx1ZTsnXHJcbiAgICAgIGNhc2UgJ09WRVJEVUUnOiByZXR1cm4gJ2NvbG9yOiByZWQ7J1xyXG4gICAgICBkZWZhdWx0OiByZXR1cm4gJ2NvbG9yOiBvcmFuZ2U7J1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaHRtbFRlbXBsYXRlID0gYDwhRE9DVFlQRSBodG1sPlxyXG48aHRtbCBsYW5nPVwicHQtQlJcIj5cclxuPGhlYWQ+XHJcbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cclxuICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgICA8dGl0bGU+Q29udHJhdG8gZGUgTG9jYcOnw6NvIC0gJHtldmVudFRpdGxlfTwvdGl0bGU+XHJcbiAgICA8c3R5bGU+XHJcbiAgICAgICAgQHBhZ2Uge1xyXG4gICAgICAgICAgICBzaXplOiBBNDtcclxuICAgICAgICAgICAgbWFyZ2luOiAwLjVpbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgICAgICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmhlYWRlciB7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMzMzM7XHJcbiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAubG9nbyB7XHJcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDYwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC50aXRsZSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmNvbnRyYWN0LW51bWJlciB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICAgICAgY29sb3I6ICM2NjY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5zZWN0aW9uIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLnNlY3Rpb24tdGl0bGUge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDRweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmluZm8tZ3JpZCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmluZm8tYm94IHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAuaW5mby1ib3g6Zmlyc3QtY2hpbGQge1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5pbmZvLWJveCBoNCB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMCAwIDhweCAwO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAuaW5mby1ib3ggcCB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogNHB4IDA7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGFibGUge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgICAgICAgICAgbWFyZ2luOiAxMnB4IDA7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGgsIHRkIHtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgICAgICAgICAgcGFkZGluZzogNnB4O1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aCB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5maW5hbmNpYWwtc3VtbWFyeSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgbWFyZ2luOiAxNnB4IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC50b3RhbC1saW5lIHtcclxuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiA4cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5zaWduYXR1cmVzIHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGFibGU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAuc2lnbmF0dXJlLWJveCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcbiAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICMzMzM7XHJcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxNnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAubm8taXRlbXMge1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5wYWdlLWJyZWFrIHtcclxuICAgICAgICAgICAgcGFnZS1icmVhay1iZWZvcmU6IGFsd2F5cztcclxuICAgICAgICB9XHJcbiAgICA8L3N0eWxlPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG4gICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxyXG4gICAgICAgICR7Y29tcGFueUxvZ29VcmwgPyBgPGltZyBzcmM9XCIke2NvbXBhbnlMb2dvVXJsfVwiIGFsdD1cIkxvZ29cIiBjbGFzcz1cImxvZ29cIj5gIDogJyd9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+JHtjb21wYW55TmFtZX08L2Rpdj5cclxuICAgICAgICA8ZGl2PiR7Y29tcGFueUFkZHJlc3N9PC9kaXY+XHJcbiAgICAgICAgPGRpdj5DTlBKOiAke2NvbXBhbnlEb2N1bWVudH0gfCBUZWw6ICR7Y29tcGFueVBob25lfTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj5DT05UUkFUTyBERSBMT0NBw4fDg088L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJhY3QtbnVtYmVyXCI+Q29udHJhdG8gTsK6ICR7Ym9va2luZy5pZCA/IGJvb2tpbmcuaWQuc2xpY2UoLTgpLnRvVXBwZXJDYXNlKCkgOiAnTi9BJ308L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tZ3JpZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxoND5MT0NBRE9SPC9oND5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+JHtjb21wYW55TmFtZX08L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICAgICAgICA8cD5DTlBKOiAke2NvbXBhbnlEb2N1bWVudH08L3A+XHJcbiAgICAgICAgICAgICAgICA8cD4ke2NvbXBhbnlBZGRyZXNzfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPlRlbDogJHtjb21wYW55UGhvbmV9PC9wPlxyXG4gICAgICAgICAgICAgICAgPHA+RW1haWw6ICR7Y29tcGFueUVtYWlsfTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJveFwiPlxyXG4gICAgICAgICAgICAgICAgPGg0PkxPQ0FUw4FSSU88L2g0PlxyXG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz4ke2NsaWVudE5hbWV9PC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgICAgICAgJHtjbGllbnRDb21wYW55ID8gYDxwPkVtcHJlc2E6ICR7Y2xpZW50Q29tcGFueX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHtjbGllbnREb2N1bWVudCA/IGA8cD5Eb2N1bWVudG86ICR7Y2xpZW50RG9jdW1lbnR9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7Y2xpZW50QWRkcmVzcyA/IGA8cD4ke2NsaWVudEFkZHJlc3N9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7Y2xpZW50UGhvbmUgPyBgPHA+VGVsOiAke2NsaWVudFBob25lfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8cD5FbWFpbDogJHtjbGllbnRFbWFpbH08L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPkRFVEFMSEVTIERPIEVWRU5UTzwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWdyaWRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkV2ZW50bzo8L3N0cm9uZz4gJHtldmVudFRpdGxlfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RW5kZXJlw6dvOjwvc3Ryb25nPiAke2V2ZW50QWRkcmVzc308L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RGF0YSBkZSBJbsOtY2lvOjwvc3Ryb25nPiAke2Zvcm1hdERhdGUoYm9va2luZy5zdGFydERhdGUpfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+RGF0YSBkZSBGaW06PC9zdHJvbmc+ICR7Zm9ybWF0RGF0ZShib29raW5nLmVuZERhdGUpfTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+UFJPRFVUT1MgRSBBQ0VTU8OTUklPUyBBTFVHQURPUzwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgICR7Ym9va2luZy5pdGVtcyAmJiBib29raW5nLml0ZW1zLmxlbmd0aCA+IDAgPyBgXHJcbiAgICAgICAgPGg0PlBST0RVVE9TPC9oND5cclxuICAgICAgICA8dGFibGU+XHJcbiAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+UHJvZHV0bzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoPkPDs2RpZ288L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5NZXRyb3M8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5QcmXDp28vbcKyPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+VG90YWw8L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgJHtib29raW5nLml0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gaXRlbS5wcm9kdWN0Py5uYW1lIHx8ICdQcm9kdXRvIG7Do28gZXNwZWNpZmljYWRvJ1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0Q29kZSA9IGl0ZW0ucHJvZHVjdD8uY29kZSB8fCAnTi9BJ1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXRlcnMgPSBpdGVtLm1ldGVycyB8fCAwXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlUGVyTWV0ZXIgPSBpdGVtLnByb2R1Y3Q/LnByaWNlUGVyTWV0ZXIgfHwgMFxyXG4gICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IG1ldGVycyAqIHBhcnNlRmxvYXQocHJpY2VQZXJNZXRlci50b1N0cmluZygpKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9kdWN0TmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvZHVjdENvZGV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke21ldGVyc30gbcKyPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KHByaWNlUGVyTWV0ZXIpfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtmb3JtYXRDdXJyZW5jeSh0b3RhbCl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgYFxyXG4gICAgICAgICAgICAgICAgfSkuam9pbignJyl9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgICBgIDogJyd9XHJcblxyXG4gICAgICAgICR7Ym9va2luZy5hY2Nlc3NvcmllcyAmJiBib29raW5nLmFjY2Vzc29yaWVzLmxlbmd0aCA+IDAgPyBgXHJcbiAgICAgICAgPGg0PkFDRVNTw5NSSU9TPC9oND5cclxuICAgICAgICA8dGFibGU+XHJcbiAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+QWNlc3PDs3JpbzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoPkPDs2RpZ288L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5RdWFudGlkYWRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8dGg+UHJlw6dvL1VuaWRhZGU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aD5Ub3RhbDwvdGg+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAke2Jvb2tpbmcuYWNjZXNzb3JpZXMubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzb3J5TmFtZSA9IGl0ZW0uYWNjZXNzb3J5Py5uYW1lIHx8ICdBY2Vzc8OzcmlvIG7Do28gZXNwZWNpZmljYWRvJ1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NvcnlDb2RlID0gaXRlbS5hY2Nlc3Nvcnk/LmNvZGUgfHwgJ04vQSdcclxuICAgICAgICAgICAgICAgICAgY29uc3QgcXR5ID0gaXRlbS5xdHkgfHwgMFxyXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcmljZVBlclVuaXQgPSBpdGVtLmFjY2Vzc29yeT8ucHJpY2VQZXJVbml0IHx8IDBcclxuICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBxdHkgKiBwYXJzZUZsb2F0KHByaWNlUGVyVW5pdC50b1N0cmluZygpKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHthY2Nlc3NvcnlOYW1lfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHthY2Nlc3NvcnlDb2RlfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtxdHl9IHVuPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KHByaWNlUGVyVW5pdCl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KHRvdGFsKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICB9KS5qb2luKCcnKX1cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIGAgOiAnJ31cclxuXHJcbiAgICAgICAgJHsoIWJvb2tpbmcuaXRlbXMgfHwgYm9va2luZy5pdGVtcy5sZW5ndGggPT09IDApICYmICghYm9va2luZy5hY2Nlc3NvcmllcyB8fCBib29raW5nLmFjY2Vzc29yaWVzLmxlbmd0aCA9PT0gMCkgPyBcclxuICAgICAgICAgICc8ZGl2IGNsYXNzPVwibm8taXRlbXNcIj5OZW5odW0gcHJvZHV0byBvdSBhY2Vzc8OzcmlvIGVzcGVjaWZpY2FkbyBwYXJhIGVzdGEgbG9jYcOnw6NvLjwvZGl2PicgOiBcclxuICAgICAgICAgICcnXHJcbiAgICAgICAgfVxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPlJFU1VNTyBGSU5BTkNFSVJPPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbmFuY2lhbC1zdW1tYXJ5XCI+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbi1ib3R0b206IDhweDtcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPlN1YnRvdGFsOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPiR7Zm9ybWF0Q3VycmVuY3koY2FsY3VsYXRlU3VidG90YWwoKSl9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWFyZ2luLWJvdHRvbTogOHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+U3RhdHVzIGRvIFBhZ2FtZW50bzo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkOyAke2dldFBheW1lbnRTdGF0dXNDb2xvcihib29raW5nLnBheW1lbnRTdGF0dXMpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7Z2V0UGF5bWVudFN0YXR1c1RleHQoYm9va2luZy5wYXltZW50U3RhdHVzKX1cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3RhbC1saW5lXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XCI+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5WYWxvciBUb3RhbDo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj4ke2Zvcm1hdEN1cnJlbmN5KGNhbGN1bGF0ZVRvdGFsUHJpY2UoKSl9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgICR7Ym9va2luZy5ub3RlcyA/IGBcclxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5PQlNFUlZBw4fDlUVTPC9kaXY+XHJcbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7IGJvcmRlcjogMXB4IHNvbGlkICNmZmVhYTc7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDRweDtcIj5cclxuICAgICAgICAgICAgPHA+JHtib29raW5nLm5vdGVzfTwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgYCA6ICcnfVxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5URVJNT1MgRSBDT05EScOHw5VFUzwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDExcHg7XCI+XHJcbiAgICAgICAgICAgIDxwPjxzdHJvbmc+MS48L3N0cm9uZz4gTyBsb2NhdMOhcmlvIHNlIGNvbXByb21ldGUgYSBkZXZvbHZlciB0b2RvcyBvcyBwcm9kdXRvcyBlIGFjZXNzw7NyaW9zIG5vIG1lc21vIGVzdGFkbyBlbSBxdWUgZm9yYW0gcmVjZWJpZG9zLjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz4yLjwvc3Ryb25nPiBEYW5vcyBjYXVzYWRvcyBkdXJhbnRlIG8gcGVyw61vZG8gZGUgbG9jYcOnw6NvIHNlcsOjbyBkZSByZXNwb25zYWJpbGlkYWRlIGRvIGxvY2F0w6FyaW8uPC9wPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPjMuPC9zdHJvbmc+IE8gbsOjbyBjdW1wcmltZW50byBkb3MgcHJhem9zIGRlIHBhZ2FtZW50byBhY2FycmV0YXLDoSBlbSBtdWx0YSBkZSAyJSBhbyBtw6pzIHNvYnJlIG8gdmFsb3IgZW0gYXRyYXNvLjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz40Ljwvc3Ryb25nPiBFc3RlIGNvbnRyYXRvIGZvaSBjZWxlYnJhZG8gZW0gJHtmb3JtYXREYXRlKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSl9IGUgcGVybWFuZWNlcsOhIHbDoWxpZG8gYXTDqSBhIGNvbmNsdXPDo28gZGEgbG9jYcOnw6NvLjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJzaWduYXR1cmVzXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNpZ25hdHVyZS1ib3hcIj5cclxuICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXdlaWdodDogYm9sZDtcIj4ke2NvbXBhbnlOYW1lfTwvcD5cclxuICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDEwcHg7XCI+QXNzaW5hdHVyYSBkbyBMb2NhZG9yPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaWduYXR1cmUtYm94XCI+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JHtjbGllbnROYW1lfTwvcD5cclxuICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDEwcHg7XCI+QXNzaW5hdHVyYSBkbyBMb2NhdMOhcmlvPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvYm9keT5cclxuPC9odG1sPmBcclxuXHJcbiAgY29uc29sZS5sb2coJ0hUTUwgZmluYWwgZ2VyYWRvIGNvbSBzdWNlc3NvLCB0YW1hbmhvOicsIGh0bWxUZW1wbGF0ZS5sZW5ndGgpXHJcbiAgcmV0dXJuIGh0bWxUZW1wbGF0ZVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJwdXBwZXRlZXIiLCJQT1NUIiwicmVxdWVzdCIsImJvb2tpbmdJZCIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJzdGF0dXMiLCJib29raW5nIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJpbmNsdWRlIiwiY2xpZW50IiwiaXRlbXMiLCJwcm9kdWN0Iiwic2VsZWN0IiwibmFtZSIsImNvZGUiLCJwcmljZVBlck1ldGVyIiwiYWNjZXNzb3JpZXMiLCJhY2Nlc3NvcnkiLCJwcmljZVBlclVuaXQiLCJldmVudFRpdGxlIiwiY2xpZW50TmFtZSIsIml0ZW1zQ291bnQiLCJsZW5ndGgiLCJhY2Nlc3Nvcmllc0NvdW50IiwidG90YWxQcmljZSIsInRvdGFsVmFsdWUiLCJ2YWxpZGF0aW9uRXJyb3JzIiwidHJpbSIsInB1c2giLCJlbWFpbCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJqb2luIiwiY29tcGFueVNldHRpbmdzIiwiY29tcGFueVNldHRpbmciLCJmaW5kRmlyc3QiLCJjcmVhdGUiLCJkYXRhIiwicGhvbmUiLCJhZGRyZXNzIiwiY29udHJhY3RIVE1MIiwiZ2VuZXJhdGVDb250cmFjdEhUTUwiLCJicm93c2VyIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJhcmdzIiwicGFnZSIsIm5ld1BhZ2UiLCJzZXRWaWV3cG9ydCIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0Q29udGVudCIsIndhaXRVbnRpbCIsInBkZkJ1ZmZlciIsInBkZiIsImZvcm1hdCIsInByaW50QmFja2dyb3VuZCIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImNsb3NlIiwiaGVhZGVycyIsInJlcGxhY2UiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiY2xpZW50RW1haWwiLCJjbGllbnRQaG9uZSIsImNsaWVudENvbXBhbnkiLCJjb21wYW55IiwiY2xpZW50RG9jdW1lbnQiLCJkb2N1bWVudCIsImNsaWVudEFkZHJlc3MiLCJldmVudEFkZHJlc3MiLCJjb21wYW55TmFtZSIsImNvbXBhbnlEb2N1bWVudCIsImNucGoiLCJjb21wYW55QWRkcmVzcyIsImNvbXBhbnlQaG9uZSIsImNvbXBhbnlFbWFpbCIsImNvbXBhbnlMb2dvVXJsIiwibG9nb1VybCIsImZvcm1hdEN1cnJlbmN5IiwidmFsdWUiLCJudW1WYWx1ZSIsInBhcnNlRmxvYXQiLCJpc05hTiIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImN1cnJlbmN5IiwiZm9ybWF0RGF0ZSIsImRhdGVTdHJpbmciLCJjYWxjdWxhdGVTdWJ0b3RhbCIsInN1YnRvdGFsIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsIml0ZW0iLCJtZXRlcnMiLCJwcmljZSIsInRvU3RyaW5nIiwicXR5IiwiY2FsY3VsYXRlVG90YWxQcmljZSIsImdldFBheW1lbnRTdGF0dXNUZXh0IiwiZ2V0UGF5bWVudFN0YXR1c0NvbG9yIiwiaHRtbFRlbXBsYXRlIiwic2xpY2UiLCJ0b1VwcGVyQ2FzZSIsIm1hcCIsInByb2R1Y3ROYW1lIiwicHJvZHVjdENvZGUiLCJ0b3RhbCIsImFjY2Vzc29yeU5hbWUiLCJhY2Nlc3NvcnlDb2RlIiwicGF5bWVudFN0YXR1cyIsIm5vdGVzIiwidG9JU09TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/contracts/download/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZC1yZW50YWwtYXBwLy4vc3JjL2xpYi9kYi50cz85ZTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hXHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcontracts%2Fdownload%2Froute&page=%2Fapi%2Fcontracts%2Fdownload%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontracts%2Fdownload%2Froute.ts&appDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmarco%5CDownloads%5Cled-rental-app-min%5Cled-rental-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();